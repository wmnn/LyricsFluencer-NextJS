(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8076:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return c(6145)}])},143:function(e,t,c){"use strict";var s=c(5893);c(7294),t.Z=function(e){let{text:t,textColor:c,color:n,width:l,handleClick:r}=e;return(0,s.jsx)("div",{className:"p-2 text-center text-2xl rounded shadow-xl hover:cursor-pointer "+(n?n+" ":"")+(c?"text-"+c+" ":"text-white ")+(l?l+" ":"w-[100%]"),onClick:()=>r(),children:(0,s.jsx)("p",{children:t})})}},6145:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return h}});var s=c(5893),n=c(7294),l=c(143),r=c(1239),i=c(8578),o=c(7419),a=c(1163),x=function(e){let{setIsDeleteAccountClicked:t}=e,c=(0,a.useRouter)(),[x,d]=(0,n.useState)(!1),h=async()=>{(0,i.Aj)(r.I,async e=>{e&&fetch(o.Jz+"/payment/account?token=".concat(e.accessToken),{method:"DELETE"}).then(e=>e.json()).then(e=>{console.log(e),200==e.status&&(u(),c.push("/"))})})},u=()=>{(0,i.w7)(r.I).then(()=>{console.log("Signed user out"),c.push("/")}).catch(e=>console.log(e))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center text-xl h-[100%]",children:(0,s.jsx)("div",{className:"flex flex-col mt-[-10%] w-[80%] md:w-[40%] h-[100%] justify-center items-center",children:(0,s.jsx)("div",{className:"bg-gray-200 w-[100%] h-[40%] rounded-xl shadow-2xl flex flex-col items-center justify-around",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{children:"Are you sure? You won't have access to the app anymore"}),(0,s.jsxs)("div",{className:"flex items-center w-[100%] px-8 space-x-8",children:[(0,s.jsx)(l.Z,{text:"Cancel",color:"bg-white",width:"w-[100%]",handleClick:()=>t(!1),textColor:"text-black"}),(0,s.jsx)(l.Z,{text:"Yes, Delete",color:"bg-red-600",width:"w-[100%]",handleClick:()=>{h()},textColor:"text-black"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{children:"Do you want to delete your Account?"}),(0,s.jsxs)("div",{className:"flex items-center w-[100%] px-8 space-x-8",children:[(0,s.jsx)(l.Z,{text:"Cancel",color:"bg-white",width:"w-[100%]",handleClick:()=>t(!1),textColor:"text-black"}),(0,s.jsx)(l.Z,{text:"Delete Account",color:"bg-red-600",width:"w-[100%]",handleClick:()=>d(!0),textColor:"text-black"})]})]})})})})},d=function(e){let{setIsCancelClicked:t,handleCancel:c}=e,[r,i]=(0,n.useState)(!1);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center text-xl h-[100%]",children:(0,s.jsx)("div",{className:"flex flex-col mt-[-10%] w-[80%] md:w-[40%] h-[100%] justify-center items-center",children:(0,s.jsx)("div",{className:"bg-gray-200 w-[100%] h-[40%] rounded-xl shadow-2xl flex flex-col items-center justify-around",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{children:"Are you sure?"}),(0,s.jsxs)("div",{className:"flex items-center w-[100%] px-8 space-x-8",children:[(0,s.jsx)(l.Z,{text:"No",color:"bg-white",width:"w-[100%]",handleClick:()=>t(!1),textColor:"text-black"}),(0,s.jsx)(l.Z,{text:"Yes, delete",color:"bg-red-600",width:"w-[100%]",handleClick:()=>{c()},textColor:"text-black"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{children:"Do you want to end your subscription?"}),(0,s.jsxs)("div",{className:"flex items-center w-[100%] px-8 space-x-8",children:[(0,s.jsx)(l.Z,{text:"Cancel",color:"bg-white",width:"w-[100%]",handleClick:()=>t(!1),textColor:"text-black"}),(0,s.jsx)(l.Z,{text:"Yes",color:"bg-red-600",width:"w-[100%]",handleClick:()=>i(!0),textColor:"text-black"})]})]})})})})},h=function(){let[e,t]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),h=(0,a.useRouter)(),[u,w]=(0,n.useState)(!1),[m,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,i.Aj)(r.I,async e=>{e?fetch("https://www.lyricsfluencer.com/payment/plan?token=".concat(e.accessToken)).then(e=>e.json()).then(e=>{console.log("Checked Plan"),t(e.subscriptionPlan),o(e.subscriptionStatus)}):h.push("/")});return()=>{e()}},[]);let f=()=>{};return(0,s.jsxs)("div",{className:"flex flex-col w-[100%] items-center",children:[e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"mb-8",children:"Your Plan: ".concat(e.charAt(0).toUpperCase()+e.slice(1))}),"special"==e?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("h1",{className:"mb-8",children:"Status: ".concat(c)})})]}):(0,s.jsx)(s.Fragment,{}),"premium"!=e&&"ACTIVE"==c?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{text:"Cancel Subscription",color:"bg-red-600",width:"md:w-[40%] w-[80%]",handleClick:()=>w(!0)})}):(0,s.jsx)(s.Fragment,{children:"special"==e?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{text:"Subscribe",color:"bg-green-600",width:"md:w-[40%] w-[80%]",handleClick:()=>h.push("/onboarding/plans")})})}),(0,s.jsx)(l.Z,{text:"Delete Account",color:"bg-red-600",width:"md:w-[40%] w-[80%] mt-8",handleClick:()=>j(!0)}),u?(0,s.jsx)(d,{setIsCancelClicked:w,handleCancel:f}):"",m?(0,s.jsx)(x,{setIsDeleteAccountClicked:j}):""]})}},7419:function(e,t,c){"use strict";c.d(t,{Jz:function(){return s},_t:function(){return l},x4:function(){return n}});let s="https://www.lyricsfluencer.com",n="P-31E648775W5857732MQI2RBA",l="ARWaYk8B8cmHMzdEZEMli4Nfb3AT5Gs6oMJEtkaw61ak2jq3tqBQRnEMc2ErfBf4YeXnjPcm-bQ0gaM2"}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8076)}),_N_E=e.O()}]);